{% extends "base.html" %}

{% block title %}FaQts | {{ block.super }}{% endblock %}

{% block nav-faqts %}active{% endblock %}
{% block nav-graphs %}active{% endblock %}

{% block content %}
    <h1>Q graphs</h1>
    <p>Graphs compiled from the Quadrivium database. Data might be wildly inaccurate, no warranty given.</p>
    <p>

        {#        {% for person in persons %}#}
        {#            <!--check for double names, if name is double then also add first letter of last name-->#}
        {#            {% if person.first_name in double_names %}#}
        {#                {{person.first_name}} {{person.last_name|make_list|first}}.{% if forloop.last %} {% else %}, {% endif %}<!--not a comma (,) after last name-->#}
        {#            {% else %}#}
        {#                {{person.first_name}}{% if forloop.last %} {% else %}, {% endif %}<!--not a comma (,) after last name-->#}
        {#            {% endif %}#}
        {#        {% endfor %}#}
    </p>

    <p>
        {#    <b>Groepen:</b><br>#}
        {#   {% for group in groups %}#}
        {#    {{group}}():#}
        {#        {% for personingroup in persongroupvalues %}#}
        {#            {% if personingroup.2 == group.id %}#}
        {#                {% if personingroup.0 in double_names %}#}
        {#                    {{personingroup.0}} {{personingroup.1|first}}.,#}
        {#                {% else %}#}
        {#                    {{personingroup.0}},#}
        {#                {% endif %}#}
        {#            {% endif %}#}
        {#        {% endfor %}<br>#}
        {#    {% endfor %}#}


        {#    <br><br>#}
        {#    <b>Dit is een andere manier om bovenstaand ook te krijgen, ik weet niet welke beter is:</b><br>#}
        {#    {% for group in groups %} <!--iterate over all groups-->#}
        {#        {{group}} ({{group.persons}}):#}
        {#            {% for person in persons %} <!-- iterate over the persons -->#}
        {#                {% for personingroup in person.groups.all %} <!-- check in which groups the person is -->#}
        {#                    {% if personingroup|stringformat:"s" == group|stringformat:"s" %} <!--check if the person is in group, if so, display name-->#}
        {##}
        {#                        <!--check for double names, if name is double then also add first letter of last name-->#}
        {#                        {% if person.first_name in double_names %}#}
        {#                            {{person.first_name}} {{person.last_name|make_list|first}}.,#}
        {#                        {% else %}#}
        {#                            {{person.first_name}},#}
        {#                        {% endif %}#}
        {##}
        {#                    {% endif %}#}
        {#                {% endfor %}#}
        {#            {% endfor %}#}
        {#    <br>#}
        {#    {% endfor %}#}

    </p>

    <div class="card-deck">
        <div class="card">
            <img src="{{ members_count_plot }}" class="card-img" alt="Number of members over time">
        </div>
        <div class="card">
            <img src="{{ membership_start_histogram }}" class="card-img" alt="Start years of memberships">
        </div>
    </div>

    <div class="card-deck mt-3">
        <div class="card">
            <img src="{{ triples_plot }}" class="card-img" alt="First names that occur 3 or more times">
        </div>
        <div class="card">
            <img src="{{ birth_year_histogram }}" class="card-img" alt="Birth years">
        </div>
    </div>




    <h3 class="mt-3">Cakes</h3>

    <div class="card-deck">
        <div class="card">
            <img src="{{ instruments_pie }}" class="card-img-top" alt="Instrument distribution">
        </div>
        <div class="card">
            <img src="{{ language_pie }}" class="card-img" alt="Language distribution">
        </div>
    </div>
    <div class="card-deck mt-3">
        <div class="card">
            <img src="{{ gender_pie }}" class="card-img" alt="Gender distribution">
        </div>
        <div class="card invisible"></div>
    </div>



    <h3 class="mt-3">Sub-association sizes</h3>
    <div class="alert alert-info">
        Less people here means that the commissioner was more capable of keeping the sub-association members accurate
        ;p. (It does not necessarily mean that the sub-association actually has less members.)
    </div>
    <div class="card-deck">
        <div class="card">
            <img src="{{ ensuite_plot }}" class="card-img" alt="Ensuite members over time">
        </div>
        <div class="card">
            <img src="{{ vokollage_plot }}" class="card-img" alt="Vokollage members over time">
        </div>
    </div>
    <div class="card-deck mt-3">
        <div class="card">
            <img src="{{ auletes_plot }}" class="card-img" alt="Auletes members over time">
        </div>
        <div class="card">
            <img src="{{ piano_plot }}" class="card-img" alt="Piano members over time">
        </div>
    </div>
{% endblock %}
